<!DOCTYPE html>
<html xmls:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
	<head th:replace="base :: head">
		<meta charset="ISO-8859-1"/>
		<title>Insert title here</title>
	</head>
	<body>
		<nav th:replace=" base :: nav"></nav>
		<div class="container">
			<form  action ="#"  th:action="@{/experience/save}" th:object="${experience}" method = "post">
				<p> Title: 
					<input type="text"  th:field="*{title}" th:value="${experience.title}"/> 
					<span th:if="${#fields.hasErrors('title')}" th:errors="*{title}" ></span>
				</p>
				<p> Company:
					 <input type="text" th:field="*{company}"  th:value="${experience.company}"/> 
				 	<span th:if="${#fields.hasErrors('company')}" th:errors="*{company}" ></span>
				</p>
				<p> Start date: 
					<input type="text" placeholder="MM/DD/YYYY" th:field ="*{sDate}" th:value="${experience.sDate}"/> 
					<span th:if="${#fields.hasErrors('sDate')}" th:errors="*{sDate}" ></span>
				</p>
				<p> End date: 
					<input type="text" placeholder="MM/DD/YYYY" th:field ="*{eDate}" th:value="${experience.eDate}" /> 
					<span th:if="${#fields.hasErrors('eDate')}" th:errors="*{eDate}" ></span>
				</p>
				<p th:if="${dutylist!=null}">
					<input type="hidden" th:field ="*{duties}"  th:value="${dutylist}" />
					<span th:each="duty : ${dutylist}"> Duty:
						<input type="text" th:value="${duty}" /> 
					</span>
					<input type="text" name ="newduty" />
				</p>
				
				<p th:if="${dutylist==null}"> Duty: 
					<input type="text" th:field ="*{duties}"  /> 
					<span th:if="${#fields.hasErrors('duties')}" th:errors="*{duties}" ></span>
				</p>
				<label>Add another Duty<input type="checkbox" name= "addDuty" value="Add another Duty"  />
				</label>
				<input type="hidden" name ="personId" th:value="${personId}"  /> 
				<input type="submit" value="submit"  />
			
			</form>
		</div>
	</body>
</html>